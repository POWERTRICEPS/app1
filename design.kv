#:kivy 1.11.1
<LoginScreen>:
    GridLayout:
        cols: 1
        GridLayout:
            cols: 1
            padding: 15, 15
            spacing: 20, 20
            Label:
                id: "title_card"
                text: "Login"
                font_size: '20sp'
            TextInput:
                id: username
                hint_text: "Username"
            TextInput:
                id: password
                hint_text: "Password"
                password: True
            RelativeLayout:
                Button:
                    size_hint: 0.5, 0.5
                    pos_hint: {'center_x': 0.5, 'center_y': 0.6}
                    text: "Login"
                    on_press: root.login(root.ids.username.text, root.ids.password.text)
            Label:
                id: login_wrong
                text:  ""
        GridLayout:
            cols: 2
            size_hint: 0.2, 0.2
            padding: 10, 10
            spacing: 10,0
            Button:
                text: "Sign Up"
                on_press:
                    root.sign_up()
                    root.manager.transition.direction ="right"
                background_color: 1, 1, 1, 0
                opacity: 1 if self.state == 'normal' else 0.5
                color: 0.1, 0.7, 1, 1
            Button:
                text: "Forgot password?"
                background_color: 1, 1, 1, 0
                opacity: 1 if self.state == 'normal' else 0.5
                color: 0.1, 0.7, 1, 1

<SignUpScreen>:
    GridLayout:
        cols: 1
        padding: 15, 15
        spacing: 20, 20
        Label:
            text: "Start your new account!"
        TextInput:
            id: username
            hint_text: "New Username"
        TextInput:
            id: password
            hint_text: "New Password"
        Button:
            text: "Create Account"
            on_press: root.add_user(root.ids.username.text, root.ids.password.text)
            on_release: app.root.current = 'sign_up_screen_success'
    GridLayout:
        padding: 10, 10
        spacing: 10,0
        Button:
            background_color: 1, 1, 1, 0
            pos: 0, 520
            color: 0.1, 0.7, 1, 1
            text: "Go Back"
            on_release:
                app.root.current = 'login_screen'
                root.manager.transition.direction ="left"

<HomeScreen>:
    GridLayout:
        cols: 1
        RelativeLayout:
            cols: 1
            Button:
                text: "Logout"
                background_color: 1, 1, 1, 0
                opacity: 1 if self.state == 'normal' else 0.5
                color: 0.1, 0.7, 1, 1
                on_press: root.log_out()
                size_hint: 0.2, 0.1
                pos_hint: {'center_x': 0.95, 'center_y': 0.95}
            Label:
                

<WelcomeScreen>:
    GridLayout:
        cols: 1
        GridLayout:
            cols: 1
            padding: 20, 10
            Label:
                text: "Welcome to myUC!"
                font_size: '20sp'
            ScrollView:
                Label:
                    id: intro_text
                    text: "   The UC system is comprised of the most prestigious public universities in the country. It is no coincidence that they are also the most competitive schools as well, receiving hundreds of thousands of applciants yearly. To be a standout applicant, one must excel both in the classroom and out. This app will help you stay on top of your classes and extracirriculars, as well as giving a general idea of where you stand as an applicant."
                    text_size: self.width, None
                    size_hint_y: None
                    height: self.texture_size[1]
        GridLayout:
            cols: 2
            size_hint: 0.3, 0.3
            padding: 10, 10
            spacing: 10,0
            Button:
                text: "Login Screen"
                on_press:
                    app.root.current = 'login_screen'
            Button:
                text: "Home Page"
                on_press:
                    app.root.current = 'home_screen'

<SignUpScreenSuccess>:
    GridLayout:
        cols: 1
        Label: 
            text: "Your account has been created!"
        Button:

            text: "Go Back to login"
            on_release:
                root.manager.transition.direction ="down"
                app.root.current = 'login_screen'

<RootWidget>:
    LoginScreen:
        name: "login_screen"
    HomeScreen:
        name: "home_screen"
    SignUpScreen:
        name: "sign_up_screen"
    WelcomeScreen:
        name: "welcome_screen"
    SignUpScreenSuccess:
        name: "sign_up_screen_success"
    
